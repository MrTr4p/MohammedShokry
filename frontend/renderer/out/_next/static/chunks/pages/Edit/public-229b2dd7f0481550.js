(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{7127:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Edit/public",function(){return t(8438)}])},8438:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSP:function(){return b}});var s=t(4246),n=t(2640),r=t(9894),l=t.n(r),c=t(7378),d=t(8276),o=t(2756),i=t(7195),u=t(8783),m=t(8480),x=t(6677),p=t(8788),b=!0;a.default=function(e){let{billData:a}=e,t=(0,d.o)(e=>e.user),r=(0,x.useRouter)(),{clientName:b,clientAddress:h,name:g,date:f,officePrecentage:j,setClientAddress:N,setDate:v,setClientName:y,setName:w,setOfficePrecentage:k,editBill:_,restState:Z,setState:C}=(0,d.o)(),[E,T]=(0,c.useState)({message:"",error:!1});async function P(){_().then(e=>{T({message:e.message,error:!1}),r.push("/")}).catch(e=>{console.log(e),T({message:e.response.data.message,error:!0})})}return(0,c.useEffect)(()=>{let e=a.workers.map(e=>({rowId:(0,p.Z)(),id:e.Worker.id,name:e.Worker.name,work:e.Worker.work,project:{id:a.id,date:e.date,salary:e.amount,precentage:e.precentage}})),t=a.expenses.map(e=>({id:e.id,materialName:e.materialName,date:e.date,totalcost:e.totalcost,day:e.day,section:{id:e.section.id,name:e.section.name}})),s=a.revenues.map(e=>({id:e.id,amount:e.amount,date:e.date})),n=a.sections.map(e=>({id:e.id,name:e.name}));C({id:a.id,name:a.name,clientName:a.clientName,clientAddress:a.clientAddress,date:a.date,officePrecentage:a.officePrecentage,expenses:t,sections:n,workers:e,revenues:s})},[a]),(0,s.jsxs)("div",{className:"space-y-12",children:[(0,s.jsxs)("header",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,s.jsx)("h1",{className:"text-black font-bold text-3xl",children:"تعديل فاتورة عامة"}),(0,s.jsx)("p",{children:"هنا يمكنك ملئ الحقول لتعديل فاتورة عامة (فاتورة مشروع)"})]}),(0,s.jsxs)(l(),{href:"/",className:"btn-outline px-6",onClick:Z,children:["ألغاء",(0,s.jsx)(n.Z,{className:"w-6 h-6"})]})]}),(0,s.jsx)("main",{className:"",children:(0,s.jsxs)("div",{className:"border-black border p-4 w-full bg-base drop-shadow rounded-md space-y-6 relative ",children:[(0,s.jsxs)("div",{className:"flex gap-4 w-full",children:[(0,s.jsx)(o.Z,{onChange:e=>y(e.target.value),value:b,label:"أسم العميل",type:"text",disabled:"create"===t.accountType}),(0,s.jsx)(o.Z,{value:h,label:"عنوان العميل",type:"text",onChange:e=>N(e.target.value),disabled:"create"===t.accountType}),(0,s.jsx)(o.Z,{value:g,label:"أسم المشروع",type:"text",onChange:e=>w(e.target.value),disabled:"create"===t.accountType}),(0,s.jsx)(o.Z,{value:j,label:"نسبة المكتب",type:"number",onChange:e=>k(e.target.value),disabled:"create"===t.accountType}),(0,s.jsx)(o.Z,{value:f,label:"التاريخ",type:"date",onChange:e=>v(e.target.value),disabled:"create"===t.accountType})]}),(0,s.jsx)(i.Z,{}),(0,s.jsx)(u.Z,{}),(0,s.jsx)(m.Z,{}),(0,s.jsx)("div",{}),(0,s.jsxs)("div",{className:"bg-secondary flex items-center gap-4 p-4 absolute rounded-b-md -inset-x-[1px] -bottom-16 drop-shadow-md border-black border",children:[(0,s.jsx)("button",{className:"btn-primary px-12",onClick:P,children:"حفظ"}),E.message&&(0,s.jsx)("h1",{className:"font-bold text-center text-lg ".concat(E.error?"text-red-600":"text-green-600"),children:E.message})]})]})})]})}}},function(e){e.O(0,[549,639,631,469,774,888,179],function(){return e(e.s=7127)}),_N_E=e.O()}]);